# Minimal mozconfig for GitHub Actions build

# Build only Firefox browser
ac_add_options --enable-application=browser

# Build for Linux
ac_add_options --target=x86_64-pc-linux-gnu
ac_add_options --enable-default-toolkit=cairo-gtk3-x11-wayland

# Optimization settings
ac_add_options --enable-release
ac_add_options --disable-debug
ac_add_options --disable-debug-symbols
ac_add_options --disable-tests
ac_add_options --enable-strip

# Basic features
ac_add_options --enable-sandbox
ac_add_options --enable-webrtc
ac_add_options --enable-pulseaudio
ac_add_options --enable-alsa

# Branding
ac_add_options --with-app-name=mercury
ac_add_options --with-app-basename=Mercury
ac_add_options --with-branding=browser/branding/mercury
ac_add_options --with-distribution-id=com.alex313031.mercury

# Make flags
mk_add_options MOZ_MAKE_FLAGS="-j$(nproc)"

# Autoclobber
mk_add_options AUTOCLOBBER=1